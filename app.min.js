/*! wilsonguo 2017-02-10 */
"use strict";var express=require("express"),app=express(),bodyParser=require("body-parser"),path=require("path"),morgan=require("morgan"),expressHandlebars=require("express-handlebars"),routes=require("./routes"),config=require("./config");app.set("views",path.join(__dirname,"views"));var handlebars=expressHandlebars.create({defaultLayout:"layout"});app.engine("handlebars",handlebars.engine),app.set("view engine","handlebars"),app.use(bodyParser.json()),app.use(bodyParser.urlencoded({extended:!1})),app.use(morgan("dev")),app.use(express.static(path.join(__dirname,"public"))),app.use("/",routes),app.use(function(a,b){b.status(404),b.render("404",{title:"404 Page Not Found"})}),app.listen(config.port);